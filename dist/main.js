(()=>{"use strict";const e=e=>`${Math.round(e-273.15)}`,t=e=>`${Math.round(3.6*e)}`,n=(e=>({staticDomElements:(e=>({contentLeftEl:e.querySelector(".content__left"),contentRightEl:e.querySelector(".content__right"),searchBoxFormEl:e.querySelector(".search_box__form"),searchBoxFormClearBtnEl:e.querySelector(".search_box__btn--clear"),searchBoxErrorDisplayEl:e.querySelector(".search_box__error_display"),mainModalEl:e.querySelector(".modal"),errorMsgModalEl:e.querySelector(".err_msg_modal"),errorMsgModalDisplayEl:e.querySelector(".err_msg_modal__display"),errorMsgModalCloseBtnEl:e.querySelector(".err_msg_modal__btn--close"),loadingMsgModalEl:e.querySelector(".loading_msg_modal"),toggleTempSwitchInputEl:e.querySelector(".toggle_temp_switch__input")}))(e),dynamicDomElements:(e=>({get:function(){return{weatherCurrentTempValueEl:e.querySelector(".weather_current__temp_value"),weatherCurrentTempUnitEl:e.querySelector(".weather_current__temp_unit"),weatherCurrentWindSpeedEl:e.querySelector(".weather_current__info_card_content--wind_speed")};}}))(e)}))(document),{staticDomElements:r,dynamicDomElements:a}=n,c=(()=>{const n=[];function c(e){n.push(e);}function o(){return console.log(n),[...n];}return{addData:c,getData:o,fetchData:async function(e){try{let t=`https://api.openweathermap.org/data/2.5/weather?q=${e}&appid=7b36a65082c985be6a27657feb9c1629`,r=await fetch(t,{mode:"cors"}),a=await r.json();return n.length=0,c(a),o()[0];}catch(e){console.error(e);}},getIconUrl:function(e){return`https://openweathermap.org/img/wn/${e}@4x.png`;},handleToggleTempSwitchClick:function(n){const c=r.toggleTempSwitchInputEl,s=o()[0],d=a.get();var i,l;c.checked?(d.weatherCurrentTempValueEl.textContent=e(s.main.temp),d.weatherCurrentTempUnitEl.textContent="C",d.weatherCurrentWindSpeedEl.textContent=`${t(s.wind.speed)} km/h`):(d.weatherCurrentTempValueEl.textContent=(l=s.main.temp,`${Math.round(1.8*(l-273.15)+32)}`),d.weatherCurrentTempUnitEl.textContent="F",d.weatherCurrentWindSpeedEl.textContent=(i=s.wind.speed,`${Math.round(2.23694*i)} mph`));}};})(),o=(n=>({weatherCurrent:function(){const a=r.contentLeftEl,o=c.getData()[0];(e=>{for(;e.firstChild;)e.removeChild(e.firstChild);})(a);const s=n.createElement("div");s.classList.add("weather_current");const d=n.createElement("div");d.classList.add("weather_current__condition"),d.textContent=o.weather[0].description;const i=n.createElement("div");i.classList.add("weather_current__location"),i.textContent=`${o.name}, ${o.sys.country}`;const l=n.createElement("div");l.classList.add("weather_current__temp");const _=n.createElement("span");_.classList.add("weather_current__temp_value"),_.textContent=e(o.main.temp);const h=n.createElement("span");h.classList.add("weather_current__temp_unit"),h.textContent="C",l.appendChild(_),l.appendChild(h);const u=n.createElement("div");u.classList.add("weather_current__info");const m=n.createElement("div");m.classList.add("weather_current__info_card","weather_current__info_card_wind");const p=n.createElement("span");p.classList.add("weather_current__info_card_heading"),p.textContent="Wind";const w=n.createElement("img");w.classList.add("weather_current__info_card_icon"),w.setAttribute("src","./assets/images/svg/wind.svg");const C=n.createElement("span");C.classList.add("weather_current__info_card_content","weather_current__info_card_content--wind_speed"),C.textContent=`${t(o.wind.speed)} km/h`,m.appendChild(p),m.appendChild(w),m.appendChild(C);const g=n.createElement("div");g.classList.add("weather_current__info_card","weather_current__info_card_humidity");const E=n.createElement("span");E.classList.add("weather_current__info_card_heading"),E.textContent="Humidity";const f=n.createElement("img");f.classList.add("weather_current__info_card_icon"),f.setAttribute("src","./assets/images/svg/humidity.svg");const y=n.createElement("span");y.classList.add("weather_current__info_card_content","weather_current__info_card_content-humidity"),y.textContent=`${o.main.humidity} %`,g.appendChild(E),g.appendChild(f),g.appendChild(y);const x=n.createElement("div");x.classList.add("weather_current__info_card","weather_current__info_card_pressure");const L=n.createElement("span");L.classList.add("weather_current__info_card_heading"),L.textContent="Pressure";const v=n.createElement("img");v.classList.add("weather_current__info_card_icon"),v.setAttribute("src","./assets/images/svg/pressure.svg");const S=n.createElement("span");S.classList.add("weather_current__info_card_content","weather_current__info_card_content--pressure"),S.textContent=`${o.main.pressure} hpa`,x.appendChild(L),x.appendChild(v),x.appendChild(S),u.appendChild(m),u.appendChild(g),u.appendChild(x),s.appendChild(d),s.appendChild(i),s.appendChild(l),s.appendChild(u),a.appendChild(s);}}))(document),s=(()=>{const e=document.querySelector(".modal"),t=()=>e.classList.add("hidden"),n=()=>e.classList.remove("hidden"),a=(()=>{const e=r.searchBoxErrorDisplayEl;return{show:function(t){e.textContent=t;},close:function(){e.textContent="";}};})();return{errorMsgDom:(()=>{const e=document.querySelector(".err_msg_modal"),r=document.querySelector(".err_msg_modal__display");return{show:function(t){n(),e.classList.remove("hidden"),r.textContent=t;},close:function(){e.classList.add("hidden"),r.textContent="",t();}};})(),loadingMsgDom:(()=>{const e=document.querySelector(".loading_msg_modal");return{show:function(){n(),e.classList.remove("hidden");},close:function(){e.classList.add("hidden"),t();}};})(),searchBoxErrorDom:a};})(),d=async function(e){e.preventDefault();const t=r.searchBoxFormEl.elements.city.value,n=await c.fetchData(t);"404"!==n.cod?(s.searchBoxErrorDom.close(),o.weatherCurrent()):s.searchBoxErrorDom.show(n.message);},i=function(e){r.searchBoxFormEl.elements.city.value="";};r.searchBoxFormEl.addEventListener("submit",d),r.searchBoxFormClearBtnEl.addEventListener("click",i),r.toggleTempSwitchInputEl.addEventListener("click",c.handleToggleTempSwitchClick),function(e,t){console.log("App loaded"),e.addEventListener("DOMContentLoaded",(async e=>{const t=await c.fetchData("delhi");console.log(t),o.weatherCurrent();}));}(window,document);})();